/**
 * Akoya
 *
 * This file was automatically generated by APIMATIC v3.0 ( https://www.apimatic.io ).
 */

import {
  array,
  boolean,
  lazy,
  number,
  optional,
  Schema,
  string,
  typedExpandoObject,
  unknown,
} from '../schema';
import { DebitCreditMemo, debitCreditMemoSchema } from './debitCreditMemo';
import {
  FiAttributeEntity,
  fiAttributeEntitySchema,
} from './fiAttributeEntity';
import { HateoasLink, hateoasLinkSchema } from './hateoasLink';
import { IncomeType, incomeTypeSchema } from './incomeType';
import { Inv401KSource, inv401KSourceSchema } from './inv401KSource';
import {
  InvestmentTransactionSecurityIdType,
  investmentTransactionSecurityIdTypeSchema,
} from './investmentTransactionSecurityIdType';
import {
  InvestmentTransactionType,
  investmentTransactionTypeSchema,
} from './investmentTransactionType';
import { LineItem, lineItemSchema } from './lineItem';
import { PositionType, positionTypeSchema } from './positionType';
import { SecurityType, securityTypeSchema } from './securityType';
import { SubAccountFund, subAccountFundSchema } from './subAccountFund';
import {
  SubAccountSecurityType,
  subAccountSecurityTypeSchema,
} from './subAccountSecurityType';
import {
  TransactionReason,
  transactionReasonSchema,
} from './transactionReason';
import { TransationStatus, transationStatusSchema } from './transationStatus';
import { TransferAction, transferActionSchema } from './transferAction';
import { UnitType, unitTypeSchema } from './unitType';

/** Investment Transactions */
export interface InvestmentTransaction {
  /** Corresponds to AccountId in Account */
  accountId?: string;
  /**
   * The amount of money in the account currency.
   * If balanceType is `ASSET`:
   *   1. If `debitCreditMemo` = `DEBIT`, sign is "+" or not present
   *   2. If `CREDIT`, sign is "-"
   * If balanceType is `LIABILITY`:
   *   1. If `debitCreditMemo` = `DEBIT`, sign is "-"
   *   2. If `CREDIT`, sign is "+" or not present
   */
  amount?: number;
  /** Transaction category, preferably MCC or SIC. */
  category?: string;
  /** Akoya will ensure that this is correctly populated with one of DEBIT or CREDIT and matches the sign of the status field. */
  debitCreditMemo?: DebitCreditMemo;
  /** The description of the transaction */
  description?: string;
  /** Array of image identifiers (unique to transaction) used to retrieve images of check or transaction receipt. */
  imageIds?: string[];
  /** Array of FI-specific attributes */
  fiAttributes?: FiAttributeEntity[];
  /** The amount of money in the foreign currency */
  foreignAmount?: number;
  /** The ISO 4217 code of the foreign currency */
  foreignCurrency?: string;
  /** Breakdown of the transaction details */
  lineItem?: LineItem[];
  /** Links (unique to this Transaction) used to retrieve images of checks or transaction receipts, or invoke other APIs */
  links?: HateoasLink[];
  /** Secondary transaction description */
  memo?: string;
  /** The date and time that the transaction was posted to the account. If not provided then TransactionTimestamp can be used as PostedTimeStamp. */
  postedTimestamp?: string;
  /** A tracking reference identifier */
  reference?: string;
  /**
   * Akoya ensures that this field is populated for all transactions which are reversals, otherwise it is null. Either way it is always present.
   * For reverse postings, the identity of the transaction being reversed. For the correction transaction, the identity of the reversing post. For credit card posting transactions, the identity of the authorization transaction.
   */
  referenceTransactionId?: string;
  /** AUTHORIZATION, MEMO, PENDING, or POSTED */
  status?: TransationStatus;
  /** Transaction category detail */
  subCategory?: string;
  /**
   * Long term persistent identity of the transaction (unique to account).
   * Transaction IDs should:
   *   1. be the same for pending and posted
   *   2. be different for reversed transactions
   *   3. `referenceTransactionId` should be present for reversed transactions'
   */
  transactionId?: string;
  /**
   * The date and time that the transaction was added to the server backend systems.
   * Akoya ensures that this field is populated for all transactions to which it applies, otherwise it is null. Either way it is always present.
   */
  transactionTimestamp?: string;
  /** Accrued Interest. */
  accruedInterest?: number;
  /** Transaction commission. */
  commission?: number;
  /** Confirmation number of the transaction. */
  confirmationNumber?: string;
  /** Cash value for bonds. */
  faceValue?: number;
  /** Fees applied to the trade. */
  fees?: number;
  /** Cash for fractional units (used for stock splits). */
  fractionalCash?: number;
  /** For sales. */
  gain?: number;
  /** Type of investment income. CGLONG (capital gains-long term), CGSHORT (capital gains-short term), MISC. */
  incomeType?: IncomeType;
  /** For 401(k) accounts, source of money for this order. Default if not present is OTHERNONVEST. */
  inv401KSource?: Inv401KSource;
  /** Load on the transaction. */
  load?: number;
  /** For 401k accounts only. This indicates the transaction was due to a loan or a loan repayment. */
  loanId?: string;
  /** How much loan pre-payment is interest. */
  loanInterest?: number;
  /** How much loan pre-payment is principal. */
  loanPrincipal?: number;
  /** Portion of unit price that is attributed to the dealer markup. */
  markup?: number;
  /** Number of shares after split. */
  newUnits?: number;
  /** Number of shares before split. */
  oldUnits?: number;
  /** The date for the 401k transaction was obtained in payroll. */
  payrollDate?: string;
  /** Indicates amount withheld due to a penalty. */
  penalty?: number;
  /** LONG, SHORT. */
  positionType?: PositionType;
  /** Unit purchase price. */
  price?: number;
  /** Indicates this buy was made using prior years contribution. TRUE or FALSE. */
  priorYearContrib?: boolean;
  /** Running balance of the position. */
  runningBalance?: number;
  /** Unique identifier of security. */
  securityId?: string;
  /** Security identifier type. */
  securityIdType?: InvestmentTransactionSecurityIdType;
  securityType?: SecurityType;
  /** Number of shares (with decimals). Negative numbers indicate securities are being removed from the account. */
  shares?: number;
  /** Split ratio denominator. */
  splitRatioDenominator?: number;
  /** Split ratio numerator. */
  splitRatioNumerator?: number;
  /** State tax withholding. */
  stateWithholding?: number;
  /** From which account money came in. */
  subAccountFund?: SubAccountFund;
  /** Sub-account security type. */
  subAccountSec?: SubAccountSecurityType;
  /** Ticker symbol. */
  symbol?: string;
  /** Taxes on the trade. */
  taxes?: number;
  /** Tax-exempt transaction TRUE or FALSE. */
  taxExempt?: boolean;
  /** Reason for this transaction; CALL (the debt was called), SELL (the debt was sold), MATURITY (the debt reached maturity) */
  transactionReason?: TransactionReason;
  /** InvestmentTransaction Type */
  transactionType?: InvestmentTransactionType;
  /** Transfer direction. */
  transferAction?: TransferAction;
  /** Price per commonly-quoted unit. Does not include markup/markdown, unitprice. Share price for stocks, mutual funds, and others. Percentage of par for bonds. Per share (not contract) for options. */
  unitPrice?: number;
  /** For security-based actions other than stock splits, quantity. Shares for stocks, mutual funds, and others. Face value for bonds. Contracts for options. */
  units?: number;
  /** Type of unit. */
  unitType?: UnitType;
  /** Federal tax withholding. */
  withholding?: number;
  additionalProperties?: Record<string, unknown>;
}

export const investmentTransactionSchema: Schema<InvestmentTransaction> = typedExpandoObject(
  {
    accountId: ['accountId', optional(string())],
    amount: ['amount', optional(number())],
    category: ['category', optional(string())],
    debitCreditMemo: ['debitCreditMemo', optional(debitCreditMemoSchema)],
    description: ['description', optional(string())],
    imageIds: ['imageIds', optional(array(string()))],
    fiAttributes: [
      'fiAttributes',
      optional(array(lazy(() => fiAttributeEntitySchema))),
    ],
    foreignAmount: ['foreignAmount', optional(number())],
    foreignCurrency: ['foreignCurrency', optional(string())],
    lineItem: ['lineItem', optional(array(lazy(() => lineItemSchema)))],
    links: ['links', optional(array(lazy(() => hateoasLinkSchema)))],
    memo: ['memo', optional(string())],
    postedTimestamp: ['postedTimestamp', optional(string())],
    reference: ['reference', optional(string())],
    referenceTransactionId: ['referenceTransactionId', optional(string())],
    status: ['status', optional(transationStatusSchema)],
    subCategory: ['subCategory', optional(string())],
    transactionId: ['transactionId', optional(string())],
    transactionTimestamp: ['transactionTimestamp', optional(string())],
    accruedInterest: ['accruedInterest', optional(number())],
    commission: ['commission', optional(number())],
    confirmationNumber: ['confirmationNumber', optional(string())],
    faceValue: ['faceValue', optional(number())],
    fees: ['fees', optional(number())],
    fractionalCash: ['fractionalCash', optional(number())],
    gain: ['gain', optional(number())],
    incomeType: ['incomeType', optional(incomeTypeSchema)],
    inv401KSource: ['inv401kSource', optional(inv401KSourceSchema)],
    load: ['load', optional(number())],
    loanId: ['loanId', optional(string())],
    loanInterest: ['loanInterest', optional(number())],
    loanPrincipal: ['loanPrincipal', optional(number())],
    markup: ['markup', optional(number())],
    newUnits: ['newUnits', optional(number())],
    oldUnits: ['oldUnits', optional(number())],
    payrollDate: ['payrollDate', optional(string())],
    penalty: ['penalty', optional(number())],
    positionType: ['positionType', optional(positionTypeSchema)],
    price: ['price', optional(number())],
    priorYearContrib: ['priorYearContrib', optional(boolean())],
    runningBalance: ['runningBalance', optional(number())],
    securityId: ['securityId', optional(string())],
    securityIdType: [
      'securityIdType',
      optional(investmentTransactionSecurityIdTypeSchema),
    ],
    securityType: ['securityType', optional(securityTypeSchema)],
    shares: ['shares', optional(number())],
    splitRatioDenominator: ['splitRatioDenominator', optional(number())],
    splitRatioNumerator: ['splitRatioNumerator', optional(number())],
    stateWithholding: ['stateWithholding', optional(number())],
    subAccountFund: ['subAccountFund', optional(subAccountFundSchema)],
    subAccountSec: ['subAccountSec', optional(subAccountSecurityTypeSchema)],
    symbol: ['symbol', optional(string())],
    taxes: ['taxes', optional(number())],
    taxExempt: ['taxExempt', optional(boolean())],
    transactionReason: ['transactionReason', optional(transactionReasonSchema)],
    transactionType: [
      'transactionType',
      optional(investmentTransactionTypeSchema),
    ],
    transferAction: ['transferAction', optional(transferActionSchema)],
    unitPrice: ['unitPrice', optional(number())],
    units: ['units', optional(number())],
    unitType: ['unitType', optional(unitTypeSchema)],
    withholding: ['withholding', optional(number())],
  },
  'additionalProperties',
  optional(unknown())
);
